{"ast":null,"code":"import { reactive, ref, watch } from \"vue\";\nexport function useField(field) {\n  const valid = ref(true);\n  const value = ref(field.value);\n  const errors = reactive({});\n  const ressign = val => {\n    valid.value = true;\n    Object.keys(field.validators ?? {}).map(name => {\n      const isValid = field.validators[name](val);\n      errors[name] = !isValid;\n      if (!isValid) valid.value = false;\n    });\n  };\n  watch(value, ressign);\n  ressign(field.value);\n  return {\n    value,\n    valid,\n    errors\n  };\n}","map":{"version":3,"names":["reactive","ref","watch","useField","field","valid","value","errors","ressign","val","Object","keys","validators","map","name","isValid"],"sources":["C:/Users/ruste/WebstormProjects/camion-express-front/src/components/hooks/useField.js"],"sourcesContent":["import {reactive, ref, watch} from \"vue\";\r\n\r\nexport function useField(field){\r\n    const valid = ref(true)\r\n    const value = ref(field.value)\r\n    const errors = reactive({})\r\n    const ressign = (val) => {\r\n        valid.value = true\r\n        Object.keys(field.validators ?? {}).map(name =>{\r\n            const isValid = field.validators[name](val)\r\n            errors[name] = !isValid\r\n            if(!isValid) valid.value = false\r\n        })\r\n    }\r\n\r\n    watch(value, ressign)\r\n    ressign(field.value)\r\n    return {value, valid, errors}\r\n}"],"mappings":"AAAA,SAAQA,QAAQ,EAAEC,GAAG,EAAEC,KAAK,QAAO,KAAK;AAExC,OAAO,SAASC,QAAQA,CAACC,KAAK,EAAC;EAC3B,MAAMC,KAAK,GAAGJ,GAAG,CAAC,IAAI,CAAC;EACvB,MAAMK,KAAK,GAAGL,GAAG,CAACG,KAAK,CAACE,KAAK,CAAC;EAC9B,MAAMC,MAAM,GAAGP,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC3B,MAAMQ,OAAO,GAAIC,GAAG,IAAK;IACrBJ,KAAK,CAACC,KAAK,GAAG,IAAI;IAClBI,MAAM,CAACC,IAAI,CAACP,KAAK,CAACQ,UAAU,IAAI,CAAC,CAAC,CAAC,CAACC,GAAG,CAACC,IAAI,IAAG;MAC3C,MAAMC,OAAO,GAAGX,KAAK,CAACQ,UAAU,CAACE,IAAI,CAAC,CAACL,GAAG,CAAC;MAC3CF,MAAM,CAACO,IAAI,CAAC,GAAG,CAACC,OAAO;MACvB,IAAG,CAACA,OAAO,EAAEV,KAAK,CAACC,KAAK,GAAG,KAAK;IACpC,CAAC,CAAC;EACN,CAAC;EAEDJ,KAAK,CAACI,KAAK,EAAEE,OAAO,CAAC;EACrBA,OAAO,CAACJ,KAAK,CAACE,KAAK,CAAC;EACpB,OAAO;IAACA,KAAK;IAAED,KAAK;IAAEE;EAAM,CAAC;AACjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}