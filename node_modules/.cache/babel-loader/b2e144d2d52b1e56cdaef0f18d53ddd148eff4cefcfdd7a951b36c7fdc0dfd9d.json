{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport axios from \"axios\";\nexport function useSubmit(name) {\n  const changeInput = ref(false);\n  const onFileChange = async event => {\n    let files = event.target.files || event.dataTransfer.files;\n    if (files.length) changeInput.value = true;else changeInput.value = true;\n  };\n  const sendReq = async () => {\n    //console.log(this.name)\n    const file = this.$refs.file.files[0];\n    const formData = new FormData();\n    formData.append('name', 'sfdfsd');\n    formData.append('email', 'fsdf');\n    formData.append('tel', 'fsdfsdf');\n    formData.append('file', file);\n    axios.post('http://localhost:5000/emailer', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    alert('Отправлено');\n  };\n  return {\n    onFileChange,\n    sendReq,\n    changeInput\n  };\n}","map":{"version":3,"names":["ref","onMounted","axios","useSubmit","name","changeInput","onFileChange","event","files","target","dataTransfer","length","value","sendReq","file","$refs","formData","FormData","append","post","headers","alert"],"sources":["C:/Users/ruste/WebstormProjects/camion-express-front/src/components/hooks/useSubmit.js"],"sourcesContent":["import {ref, onMounted} from 'vue'\r\nimport axios from \"axios\";\r\n\r\nexport function useSubmit(name){\r\n\r\n    const changeInput = ref(false)\r\n\r\n    const onFileChange = async(event) => {\r\n        let files = event.target.files || event.dataTransfer.files;\r\n        if (files.length) changeInput.value = true;\r\n        else changeInput.value = true;\r\n    }\r\n    const sendReq  = async() =>{\r\n        //console.log(this.name)\r\n        const file = this.$refs.file.files[0];\r\n        const formData = new FormData()\r\n        formData.append('name', 'sfdfsd')\r\n        formData.append('email', 'fsdf')\r\n        formData.append('tel', 'fsdfsdf')\r\n        formData.append('file', file)\r\n        axios.post('http://localhost:5000/emailer', formData, {\r\n            headers: {'Content-Type': 'multipart/form-data'}\r\n        })\r\n        alert('Отправлено')\r\n    }\r\n\r\n    return {onFileChange, sendReq, changeInput}\r\n}"],"mappings":"AAAA,SAAQA,GAAG,EAAEC,SAAS,QAAO,KAAK;AAClC,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,SAASC,SAASA,CAACC,IAAI,EAAC;EAE3B,MAAMC,WAAW,GAAGL,GAAG,CAAC,KAAK,CAAC;EAE9B,MAAMM,YAAY,GAAG,MAAMC,KAAK,IAAK;IACjC,IAAIC,KAAK,GAAGD,KAAK,CAACE,MAAM,CAACD,KAAK,IAAID,KAAK,CAACG,YAAY,CAACF,KAAK;IAC1D,IAAIA,KAAK,CAACG,MAAM,EAAEN,WAAW,CAACO,KAAK,GAAG,IAAI,CAAC,KACtCP,WAAW,CAACO,KAAK,GAAG,IAAI;EACjC,CAAC;EACD,MAAMC,OAAO,GAAI,MAAAA,CAAA,KAAU;IACvB;IACA,MAAMC,IAAI,GAAG,IAAI,CAACC,KAAK,CAACD,IAAI,CAACN,KAAK,CAAC,CAAC,CAAC;IACrC,MAAMQ,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC;IACjCF,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC;IAChCF,QAAQ,CAACE,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC;IACjCF,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;IAC7BZ,KAAK,CAACiB,IAAI,CAAC,+BAA+B,EAAEH,QAAQ,EAAE;MAClDI,OAAO,EAAE;QAAC,cAAc,EAAE;MAAqB;IACnD,CAAC,CAAC;IACFC,KAAK,CAAC,YAAY,CAAC;EACvB,CAAC;EAED,OAAO;IAACf,YAAY;IAAEO,OAAO;IAAER;EAAW,CAAC;AAC/C"},"metadata":{},"sourceType":"module","externalDependencies":[]}