{"ast":null,"code":"import { reactive, ref, watch } from \"vue\";\nexport function useField(field) {\n  const valid = ref(true);\n  const value = ref(field.value);\n  const touched = ref(false);\n  const errors = reactive({});\n  const ressign = val => {\n    valid.value = true;\n    Object.keys(field.validators ?? {}).map(name => {\n      const isValid = field.validators[name](val);\n      errors[name] = !isValid;\n      if (!isValid) valid.value = false;\n    });\n  };\n  watch(value, ressign);\n  ressign(field.value);\n  return {\n    value,\n    valid,\n    errors,\n    touched,\n    blur: () => touched.value = true\n  };\n}","map":{"version":3,"names":["reactive","ref","watch","useField","field","valid","value","touched","errors","ressign","val","Object","keys","validators","map","name","isValid","blur"],"sources":["C:/Users/ruste/WebstormProjects/camion-express-front/src/components/hooks/useField.js"],"sourcesContent":["import {reactive, ref, watch} from \"vue\";\r\n\r\nexport function useField(field){\r\n    const valid = ref(true)\r\n    const value = ref(field.value)\r\n    const touched = ref(false)\r\n    const errors = reactive({})\r\n    const ressign = (val) => {\r\n        valid.value = true\r\n        Object.keys(field.validators ?? {}).map(name =>{\r\n            const isValid = field.validators[name](val)\r\n            errors[name] = !isValid\r\n            if(!isValid) valid.value = false\r\n        })\r\n    }\r\n\r\n    watch(value, ressign)\r\n    ressign(field.value)\r\n    return {value, valid, errors, touched, blur: ()=> touched.value = true}\r\n}"],"mappings":"AAAA,SAAQA,QAAQ,EAAEC,GAAG,EAAEC,KAAK,QAAO,KAAK;AAExC,OAAO,SAASC,QAAQA,CAACC,KAAK,EAAC;EAC3B,MAAMC,KAAK,GAAGJ,GAAG,CAAC,IAAI,CAAC;EACvB,MAAMK,KAAK,GAAGL,GAAG,CAACG,KAAK,CAACE,KAAK,CAAC;EAC9B,MAAMC,OAAO,GAAGN,GAAG,CAAC,KAAK,CAAC;EAC1B,MAAMO,MAAM,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC3B,MAAMS,OAAO,GAAIC,GAAG,IAAK;IACrBL,KAAK,CAACC,KAAK,GAAG,IAAI;IAClBK,MAAM,CAACC,IAAI,CAACR,KAAK,CAACS,UAAU,IAAI,CAAC,CAAC,CAAC,CAACC,GAAG,CAACC,IAAI,IAAG;MAC3C,MAAMC,OAAO,GAAGZ,KAAK,CAACS,UAAU,CAACE,IAAI,CAAC,CAACL,GAAG,CAAC;MAC3CF,MAAM,CAACO,IAAI,CAAC,GAAG,CAACC,OAAO;MACvB,IAAG,CAACA,OAAO,EAAEX,KAAK,CAACC,KAAK,GAAG,KAAK;IACpC,CAAC,CAAC;EACN,CAAC;EAEDJ,KAAK,CAACI,KAAK,EAAEG,OAAO,CAAC;EACrBA,OAAO,CAACL,KAAK,CAACE,KAAK,CAAC;EACpB,OAAO;IAACA,KAAK;IAAED,KAAK;IAAEG,MAAM;IAAED,OAAO;IAAEU,IAAI,EAAEA,CAAA,KAAKV,OAAO,CAACD,KAAK,GAAG;EAAI,CAAC;AAC3E"},"metadata":{},"sourceType":"module","externalDependencies":[]}